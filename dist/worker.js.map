{"version":3,"file":"worker.js","sourceRoot":"","sources":["../src/worker.js"],"names":[],"mappings":";AAAA,MAAM,EAAE,MAAM,EAAE,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AACrC,MAAM,EAAE,IAAI,EAAE,GAAG,OAAO,CAAC,eAAe,CAAC,CAAC;AAE1C,IAAI,MAAM,CACR,SAAS,EACT,KAAK,IAAI,EAAE;IACT,OAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;IAClC,IAAI,CAAC,8BAA8B,EAAE,CAAC,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,EAAE;QAC7D,IAAI,KAAK,EAAE,CAAC;YACV,OAAO,CAAC,KAAK,CAAC,0BAA0B,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;QAC3D,CAAC;QACD,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;IACtB,CAAC,CAAC,CAAC;AACL,CAAC,EACD;IACE,UAAU,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE;CAC1C,CACF,CAAC","sourcesContent":["const { Worker } = require(\"bullmq\");\nconst { exec } = require(\"child_process\");\n\nnew Worker(\n  \"scraper\",\n  async () => {\n    console.log(\"Running scraper...\");\n    exec(\"docker start -ai sam_scraper\", (error, stdout, stderr) => {\n      if (error) {\n        console.error(`Error running scraper: ${error.message}`);\n      }\n      console.log(stdout);\n    });\n  },\n  {\n    connection: { host: \"redis\", port: 6379 },\n  }\n);\n"]}